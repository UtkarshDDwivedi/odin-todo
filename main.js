(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],d=o.base?c[0]+o.base:c[0],l=i[d]||0,p="".concat(d," ").concat(l);i[d]=l+1;var u=n(p),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(m);else{var h=r(m,o);o.byIndex=s,t.splice(s,0,{identifier:p,updater:h,references:1})}a.push(p)}return a}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var c=o(e,r),d=0;d<i.length;d++){var l=n(i[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=c}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);o&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),t.push(l))}},t}},365:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(601),r=n.n(o),i=n(314),a=n.n(i)()(r());a.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Faustina:ital,wght@0,300..800;1,300..800&display=swap);"]),a.push([e.id,'* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: "Faustina", serif;\n}\n\nbody {\n    display: grid;\n    grid-template-columns: 1fr 3.5fr;\n    grid-template-rows: 1fr;\n    height: 100vh;\n    background-color: #f1faee;\n}\n\n.sidebar {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 3fr 4fr;\n    margin: 16px;\n    border-top-left-radius: 16px;\n    border-bottom-left-radius: 16px;\n    background-color: #a8dadc;\n    color: #1d3557;\n}\n\n.title {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 5rem;\n    font-weight: 600;\n}\n\n.todo,\n.spaces {\n    margin: 16px;\n    padding: 16px;\n    border-radius: 16px;\n    background-color: #457b9d;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n\n.btn {\n    display: flex;\n    align-items: center;\n    height: 60px;\n    width: 100%;\n    border: none;\n    border-radius: 16px;\n    background-color: #457b9d;\n    color: #1d3557;\n    cursor: pointer;\n    font-size: 1.2rem;\n    font-weight: 500;\n    padding: 8px;\n    gap: 8px;\n}\n\n.btn img {\n    height: 25px;\n}\n\n.btn:hover {\n    background-color: #1e406e;\n    background-color: #1d3557;\n    color: #457b9d;\n    font-weight: 700;\n    opacity: 70%;\n}\n\n.btn-active {\n    background-color: #1d3557;\n    color: #457b9d;\n    font-weight: 700;\n    box-shadow: 2px 2px white;\n}\n\n.sidebar h2 {\n    font-size: 2rem;\n    font-weight: 600;\n}\n\n.space-color {\n    height: 25px;\n    width: 25px;\n    border-radius: 8px;\n}\n\n.space-btn img {\n    margin-left: auto;\n}\n\n.space-btn img:hover {\n    height: 30px;\n}\n\n.main {\n    margin: 16px;\n    color: #1d3557;\n    display: grid;\n    grid-template-columns: 2fr 1fr;\n}\n\n.left .title {\n    justify-content: start;\n    font-size: 3rem;\n}\n\n\n\n.content {\n    margin: 16px;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n\n.card {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    cursor: pointer;\n    gap: 8px;\n}\n\n.card-content {\n    height: 100px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    border-radius: 16px;\n    padding: 8px 16px;\n}\n\n.card-content:hover,\n.card-active {\n    background-color: #0b2344;\n    color: #f1faee;\n    font-weight: 800;\n    opacity: 90%;\n}\n\n.info {\n    display: flex;\n    gap: 24px;\n    font-size: 1.2rem;\n}\n\n.info img {\n    height: 18px;\n}\n\n.date,\n.space {\n    display: flex;\n    gap: 8px;\n    align-items: center;\n}\n\n.color {\n    height: 18px;\n    width: 18px;\n    background-color: red;\n    border-radius: 5px;\n}\n\n.label {\n    font-size: 2rem;\n    display: flex;\n    align-items: end;\n    justify-content: space-between;\n}\n\n.label input {\n    height: 20px;\n    width: 20px;\n    margin-right: 16px;\n}\n\n.label img {\n    height: 25px;\n}\n\n.label img:hover {\n    height: 30px;\n}\n\nlabel,\ninput {\n    cursor: pointer;\n}\n\ndialog {\n    margin: auto;\n    height: 700px;\n    width: 900px;\n    border-radius: 16px;\n}\n\nform input {\n    cursor: text;\n}\n\nform select {\n    cursor: pointer;\n}\n\nform {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    font-size: 2rem;\n    font-weight: 500;\n    gap: 10px;\n    background-color: #77aaca;\n    color: #0b2344;\n    padding: 24px;\n}\n\nform input,\nform select {\n    width: 700px;\n    height: 50px;\n    border: none;\n    border-radius: 12px;\n    padding: 8px;\n    font-size: 1.2rem;\n}\n\nform select,\n#due-date {\n    width: 300px;\n    text-align: center;\n}\n\n.form-btn-div {\n    display: flex;\n    gap: 16px;\n    margin-top: 16px;\n}\n\n.form-btn-div button {\n    width: 300px;\n    background-color: #23597a;\n    color: #91aace;\n    font-size: 2rem;\n    display: flex;\n    justify-content: center;\n    align-items: centerd;\n}\n\n#add-space {\n    height: 400px;\n}\n\n#color {\n    cursor: pointer;\n}\n\n#cardSidebar {\n    background-color: #a8dadc;\n    border: 16px double #457b9d;\n    border-top-right-radius: 16px;\n    border-bottom-right-radius: 16px; \n}\n\n#cardSidebar {\n    justify-content: start;\n}',""]);const s=a},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.nc=void 0;var o=n(72),r=n.n(o),i=n(825),a=n.n(i),s=n(659),c=n.n(s),d=n(56),l=n.n(d),p=n(540),u=n.n(p),m=n(113),h=n.n(m),f=n(365),g={};g.styleTagTransform=h(),g.setAttributes=l(),g.insert=c().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=u(),r()(f.A,g),f.A&&f.A.locals&&f.A.locals;const b=n.p+"f9573df75d23f80de41e.png",y=n.p+"3c662b752278fc52f408.png";class v{static#e={};static save(){const e={};for(let t in this.#e)e[t]={color:this.#e[t].color,todos:this.#e[t].todos.map((e=>e.toJSON()))};localStorage.setItem("todos",JSON.stringify(e))}static load(){const e=JSON.parse(localStorage.getItem("todos"));if(e){this.#e={};for(let t in e)this.#e[t]={color:e[t].color,todos:[]};for(let t in e)this.#e[t].todos=e[t].todos.map((e=>x.fromJSON(e)))}}static get spaces(){return this.#e}static addSpace(e,t){e in this.#e||(this.#e[e]={color:t,todos:[]})}static addTodo(e){this.#e[e.space].todos.push(e)}static removeTodo(e){const t=e.getAttribute("data-space");if(t in this.#e){const n=this.#e[t].todos.findIndex((t=>t.id===e.id));-1!==n&&this.#e[t].todos.splice(n,1)}e.remove()}static getTodo(e){const t=e.getAttribute("data-space");if(t in this.#e){const n=this.#e[t].todos.findIndex((t=>t.id===e.id));if(-1!==n)return this.#e[t].todos[n]}}static toggleStatus(e){let t=v.getTodo(e);"completed"==t.status?t.status="not completed":"not completed"==t.status&&(t.status="completed")}static#t(e){let t={};const n=new Date;n.setHours(0,0,0,0);for(let o in this.#e)t[o]={color:this.#e[o].color,todos:this.#e[o].todos.filter((t=>{let o=new Date(t.dueDate);return o.setHours(0,0,0,0),"today-btn"==e.id&&o.getTime()===n.getTime()&&"not completed"===t.status||"pending-btn"==e.id&&o.getTime()>=n.getTime()&&"not completed"===t.status||"overdue-btn"==e.id&&o.getTime()<n.getTime()&&"not completed"===t.status||"completed-btn"==e.id&&"completed"===t.status}))};return t}static getSidebar(e){let t,n=e.getAttribute("data-space");if(n in this.#e){const o=this.#e[n].todos.findIndex((t=>t.id===e.id));-1!==o&&(t=this.#e[n].todos[o])}const o=document.createElement("form"),r=document.createElement("label");r.setAttribute("for","todo-title"),r.textContent="Title:";const i=document.createElement("input");i.type="text",i.id="todo-title",i.name="title",i.value=t.title;const a=document.createElement("label");a.setAttribute("for","todo-description"),a.textContent="Description:";const s=document.createElement("input");s.type="text",s.id="todo-description",s.name="description",s.value=t.description;const c=document.createElement("label");c.setAttribute("for","space-select"),c.textContent="Space:";const d=document.createElement("select");for(n in d.name="space",d.id="space-select",this.#e){const e=document.createElement("option");e.value=n,e.textContent=n,d.appendChild(e)}d.value=t.space;const l=document.createElement("label");l.setAttribute("for","priority"),l.textContent="Priority:";const p=document.createElement("select");p.name="priority",p.id="priority",["High","Medium","Low"].forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e,p.appendChild(t)})),p.value=t.priority;const u=document.createElement("label");u.setAttribute("for","due-date"),u.textContent="Due-Date:";const m=document.createElement("input");m.type="date",m.name="due-date",m.id="due-date",m.value=t.dueDate;const h=document.createElement("button");h.className="btn",h.id="edit-todo-submit",h.type="submit",h.textContent="Save";const f=document.createElement("button");f.className="btn",f.id="edit-todo-done",f.type="button",f.textContent="Done";let g=document.createElement("div");return g.appendChild(h),g.appendChild(f),g.classList.add("form-btn-div"),o.appendChild(r),o.appendChild(i),o.appendChild(a),o.appendChild(s),o.appendChild(c),o.appendChild(d),o.appendChild(l),o.appendChild(p),o.appendChild(u),o.appendChild(m),o.appendChild(g),o.id="cardSidebar",o}static displayCards(e,t){let n=document.querySelector(".content");n.innerHTML="";let o=this.#t(e);for(let e in o)o[e].todos.forEach((e=>{"all-spaces"!=t.id&&e.space!=t.id||n.appendChild(e.card)}))}}class x{#n;#o;#r;#i;#a;#s;#c;#d="not completed";#l;constructor(e,t,n,o,r){this.#n=e,this.#o=t,this.#r=n,this.#i=o,this.#a=r,this.#c=crypto.randomUUID(),this.#s=v.spaces[r].color}get title(){return this.#n}get description(){return this.#o}get dueDate(){return this.#r}get priority(){return this.#i}get space(){return this.#a}get color(){return this.#s}get id(){return this.#c}get status(){return this.#d}get card(){let e=this.#p(),t=document.createElement("hr");return this.#l=document.createElement("div"),this.#l.appendChild(e),this.#l.appendChild(t),this.#l.classList.add("card"),this.#l.setAttribute("data-space",this.#a),this.#l.id=this.#c,this.#l}set title(e){this.#n=e}set description(e){this.#o=e}set dueDate(e){this.#r=e}set priority(e){this.#i=e}set space(e){this.#a=e}set status(e){["completed","not completed"].includes(e)&&(this.#d=e)}set id(e){this.#c=e}set color(e){this.#s=e}#u(){let e=document.createElement("div"),t=document.createElement("input");t.type="checkbox",t.id=this.#c,"completed"===this.#d&&(t.checked=!0);let n=document.createElement("label");n.htmlFor=this.#c,n.textContent=this.#n;let o=document.createElement("div");o.appendChild(t),o.appendChild(n);let r=document.createElement("img");return r.src=y,r.alt="Remove Todo",r.classList.add("remove-todo-btn"),e.appendChild(o),e.appendChild(r),e.classList.add("label"),e}#m(){let e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("img");n.src=b,t.appendChild(n),t.append(this.#r),t.classList.add("date");let o=document.createElement("div"),r=document.createElement("div");r.classList.add("color"),r.style.backgroundColor=this.#s,o.appendChild(r),o.append(this.#a),o.classList.add("space");let i=document.createElement("div");return i.append(`${this.#i} Priority`),"High"==this.#i?i.style.color="#D22B2B":"Medium"==this.#i?i.style.color="#CD7F32":"Low"==this.#i&&(i.style.color="green"),e.appendChild(t),e.appendChild(o),e.appendChild(i),e.classList.add("info"),e}#p(){let e=document.createElement("div"),t=this.#u(),n=this.#m();return e.appendChild(t),e.appendChild(n),e.classList.add("card-content"),e}toJSON(){return{title:this.#n,description:this.#o,dueDate:this.#r,priority:this.#i,space:this.#a,id:this.#c,status:this.#d,color:this.#s}}static fromJSON(e){const t=new x(e.title,e.description,e.dueDate,e.priority,e.space);return t.id=e.id,t.status=e.status,t.color=e.color,t}}let C=document.querySelector("#create-todo-btn"),S=document.querySelector("#cancel-todo-btn"),E=document.querySelector("#todo-form"),w=document.querySelector("#create-space-btn"),L=document.querySelector("#cancel-space-btn"),T=(document.querySelectorAll(".space-btn img"),document.querySelector("#space-form")),D=document.querySelectorAll(".task-btn"),q=(document.querySelectorAll(".space-btn"),document.querySelector("#all-spaces")),k=document.querySelector("#today-btn"),A=document.querySelector("#all-spaces");function N(e){k.classList.remove("btn-active"),k=e,k.classList.add("btn-active")}function I(e){A.classList.remove("btn-active"),A=e,A.classList.add("btn-active")}function M(e,t){let n=function(e,t){v.addSpace(e,t);let n=document.querySelector("#space-select"),o=document.createElement("option");o.textContent=e,o.value=e,n.appendChild(o);let r=document.createElement("button"),i=document.createElement("div");i.style.backgroundColor=t,i.classList.add("space-color");let a=document.createElement("img");return a.src=y,a.alt="Delete",r.appendChild(i),r.append(e),r.appendChild(a),r.classList.add("btn"),r.classList.add("space-btn"),r.id=e,r}(e,t);document.querySelector(".spaces").appendChild(n)}document.addEventListener("DOMContentLoaded",(()=>{v.load();for(let e in v.spaces)M(e,v.spaces[e].color);N(document.querySelector("#pending-btn")),I(document.querySelector("#all-spaces")),v.displayCards(k,A),document.querySelector(".spaces").addEventListener("click",(e=>{const t=e.target.closest(".space-btn");var n;t&&(e.target.matches("img")||(I(t),v.displayCards(k,A)),"IMG"===e.target.tagName)&&confirm("Warning!: This will delete the space and all the Todo(s) inside it.")&&(n=t,document.querySelectorAll("#space-select option").forEach((e=>{e.value==n.id&&e.remove()})),delete v.spaces[n.id],n.remove(),v.save(),v.displayCards(k,A))})),document.querySelector(".content").addEventListener("click",(e=>{const t=e.target.closest(".card");if(t&&(e.target.classList.contains("remove-todo-btn")&&(e.stopPropagation(),confirm("Warning!: This will delete the todo permanently.")&&(v.removeTodo(t),v.save(),v.displayCards(k,A))),"INPUT"===e.target.tagName&&"checkbox"===e.target.type&&(e.stopPropagation(),v.toggleStatus(t),v.save(),v.displayCards(k,A)),!e.target.closest(".remove-todo-btn")&&("INPUT"!==e.target.tagName||"checkbox"!==e.target.type))){let e=v.getSidebar(t),n=document.querySelector(".right");n.innerHTML="",n.appendChild(e);let o=document.querySelector("#edit-todo-done"),r=document.querySelector(".right form");o.addEventListener("click",(()=>{n.innerHTML=""})),r.addEventListener("submit",(e=>{e.preventDefault();let o=new FormData(r),i=o.get("title"),a=o.get("description"),s=o.get("space"),c=o.get("priority"),d=o.get("due-date"),l=v.getTodo(t);l.title=i,l.description=a,l.space=s,l.priority=c,l.dueDate=d,v.save(),v.displayCards(k,A),n.innerHTML=""}))}}))})),C.addEventListener("click",(()=>{document.querySelector("#add-todo").showModal()})),S.addEventListener("click",(e=>{e.preventDefault(),document.querySelector("#add-todo").close()})),E.addEventListener("submit",(e=>{e.preventDefault();let t=new FormData(E),n=t.get("title"),o=t.get("description"),r=t.get("space"),i=t.get("priority"),a=t.get("due-date"),s=new x(n,o,a,i,r);v.addTodo(s),v.save(),document.querySelector(".content").appendChild(s.card),v.displayCards(k,A);let c=document.querySelector("#add-todo");E.reset(),c.close()})),w.addEventListener("click",(()=>{document.querySelector("#add-space").showModal()})),L.addEventListener("click",(e=>{e.preventDefault(),document.querySelector("#add-space").close()})),T.addEventListener("submit",(e=>{e.preventDefault();let t=new FormData(T),n=t.get("space");if(n=n.trim(),n in v.spaces)return void alert(`A space named "${n}" already exists. Please choose a different name.`);M(n,t.get("color")),v.save(),I(document.querySelector(`#${n}`)),v.displayCards(k,A);let o=document.querySelector("#add-space");T.reset(),o.close()})),D.forEach((e=>{e.addEventListener("click",(()=>{N(e),v.displayCards(k,A)}))})),q.addEventListener("click",(()=>{I(q),v.displayCards(k,A)}))})();